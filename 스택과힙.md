# 스택과 힙

- 자료를 어떻게 저장할 것인가

- 지역변수는 언제 어디에 할당되는가

| 스택(stack)                                | 힙(heap)                                  |
| ------------------------------------------ | ----------------------------------------- |
| high level에서 low레벨로 쌓인다            | 데이터가 low레벨에서 high레벨로 쌓인다    |
| 나중에 들어온 데이터가 먼저 인출된다(LIFO) | 먼저 들어온 데이터가 먼저 인출된다(FIFO)  |
| cpu에 의해 효율적으로 관리된다             | 사용자에 의해 할당, 해제된다.             |
| 빠른 엑세스가 가능하다                     | 메모리 크기 제한이 없고 느리다            |
| 변수 크기를 조정할 수 없다                 | 개체가 너무 커서 스택 맞지 않는 경우 사용 |



## 오버플로우

우선 stack의 지역변수가 갖는 데이터 용량은 불확실하다. 스택은 밑에서부터 선언된 순서대로 저장되고 힙은 위에서부터 주소값이 채워지기 때문에 두 영역의 주소가 겹치게 되는 overflow가 발생할 수 있다. 

- 힙오버플로: 위에서부터 채워오다가 stack영역을 침범하는 경우
- 스택오버플로: 프로그램이 스택에 위치한 버퍼에 할당된 것 보다 더 많은 데이터를 쓸 때 발생, 실수로 오버플로된 경우 프로그램 오작동하게 된다. 